<assembly>
	<id>application</id>
	<formats>
		<format>tar.gz</format>
		<format>dir</format>
	</formats>

	<dependencySets>
		<dependencySet>
			<includes>
				<include>*:jar</include>
			</includes>
			<outputDirectory>lib</outputDirectory>
		</dependencySet>
		<!-- Make sure the shared library from the native build is on the path. -->
		<dependencySet>
			<includes>
				<include>uk.co.humboldt.MavenJNIExample:WrapperNative</include>
			</includes>
			<!-- Rename to a fixed name to match the loading code
			     System.loadLibrary("wrapper"); -->
			<outputFileNameMapping>
				libwrapper.so
			</outputFileNameMapping>
			<outputDirectory>lib</outputDirectory>
		</dependencySet>
	</dependencySets>

	<!-- Pull out the lib files from the main library build -->
	<fileSets>
		<fileSet>
			<directory>
				${project.build.directory}/library-${project.version}/lib
			</directory>
			<outputDirectory>lib</outputDirectory>
			<includes>
				<include>*.so</include>
			</includes>
			<useDefaultExcludes>true</useDefaultExcludes>
			<fileMode>0644</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
	</fileSets>

	<files>
		<file>
			<source>application</source>
			<fileMode>0755</fileMode>
		</file>
	</files>

</assembly>